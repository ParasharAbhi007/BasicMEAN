template:
  name: customstage
  identifier: customstage
  type: Stage
  projectIdentifier: CSETest1
  orgIdentifier: AbhiOrg
  tags: {}
  spec:
    type: Custom
    spec:
      execution:
        steps:
          - stepGroup:
              name: stpgrp
              identifier: stpgrp
              steps:
                - step:
                    type: ShellScript
                    name: ShellScript_1
                    identifier: ShellScript_1
                    timeout: 10m
                    spec:
                      shell: Bash
                      source:
                        type: Inline
                        spec:
                          script: |-
                            echo "he"
                            test1=test2
                            echo "<+pipelidne.stdagdes.stpgrp.steps.stpgrp.steps.ShellScript_1.status>"
                            echo "nkl"
                            echo "<+pipeline.stages.stpgrp.spec.execution.steps.stpgrp.steps.ShellScript_1.status>"
                      environmentVariables: []
                      outputVariables:
                        - name: test1
                          type: String
                          value: test1
                      executionTarget: {}
      environment:
        environmentRef: ECS_INFRA
        deployToAll: false
        infrastructureDefinitions:
          - identifier: ee
            inputs:
              identifier: ee
              type: KubernetesDirect
              spec:
                namespace: <+input>
    variables:
      - name: test
        type: String
        description: ""
        required: false
        value: <+input>.default(test)
      - name: test2
        type: String
        description: ""
        required: false
        value: <+input>.default(test2)
  versionLabel: "2"
